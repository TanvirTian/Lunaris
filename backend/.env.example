# =============================================================================
# Backend Environment — Lunaris
# =============================================================================
# This file is for LOCAL DEVELOPMENT (non-Docker).
# When running via Docker Compose, DATABASE_URL and REDIS_URL are
# automatically overridden in docker-compose.yml to use container
# service names (postgres:5432, redis:6379) instead of localhost.
# You never need to manually change those values for Docker.
# =============================================================================

# ── PostgreSQL ────────────────────────────────────────────────────────────────
# Local dev: host is localhost
# Docker:    host is automatically overridden to 'postgres' (service name)
#            by docker-compose.yml — do not change this for Docker
DATABASE_URL="postgresql://postgres:yourpassword@localhost:5432/privacy_analyzer"

# Used by Docker Compose to initialize the PostgreSQL container on first boot.
# Must match the credentials in DATABASE_URL above.
POSTGRES_USER=postgres
POSTGRES_PASSWORD=yourpassword
POSTGRES_DB=privacy_analyzer

# ── Redis ─────────────────────────────────────────────────────────────────────
# Local dev: host is localhost
# Docker:    automatically overridden to 'redis' (service name) by docker-compose.yml
REDIS_URL="redis://localhost:6379"

# ── Server ────────────────────────────────────────────────────────────────────
PORT=8000
NODE_ENV=development
LOG_LEVEL=info
SERVICE_NAME=lunaris-backend

# ── CORS ──────────────────────────────────────────────────────────────────────
# Allow requests from the frontend origin.
# Local dev:  http://localhost:3000
CORS_ORIGIN=http://localhost:3000

# ── Worker 
# Max simultaneous Playwright browser instances.
# Formula: min(available_RAM_gb / 0.5, cpu_core_count)
# Default 2 is safe for most 2-4GB machines.
WORKER_CONCURRENCY=2
